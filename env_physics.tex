\startenvironment env_physics
\usemodule[chemic] % I think this is built in now, and does not need to be loaded.

% Units
\setupunits[method=4,separator=cdot] % separator as thin space, decimal mark as period. alternative=text
\registerunit[unit]
 [unitless=unitless,
  cyc=cycle,
  cycle=cycle,
  rad=radian,
  h=hour,
  d=day,
  day=day,
  yr=year,
  year=year,
  mi=mile,
  mile=mile,
  e=electron,
  electron=electron,
  Ω=ohm]
\registerunitshortcut[unit]
 [N=newton,
  J=joule,
  V=volt,
  C=coulomb,
  K=kelvin,
  T=tesla]
\setupunittext
 [unitless=\strut,
  cycle=cyc,
  year=yr,
  mile=mi,
  electron=e,
]


\define[1]\units{{% I would like to phase this out in favor of ConTeXt's built in \unit command
	\def\.{\mathord\cdot}% In LaTeX this was proceeded by \protect
	\ifmmode{\rm\,#1}
	\else{$\rm\,#1$}
	\fi%
}}
%\define[1]\unit{{% These are the old definitions of \unit and \units
%	\def\.{\!\cdot\!}% In LaTeX this was proceeded by \protect
%	\ifmmode{\rm#1}
%	\else{$\rm\,#1$}
%	\fi%
%}}
%\define[1]\units{\,\unit{#1}}
\define\degree{°} % \ensure math should be replaced for ConTeXt

% Text subscripts in math
\define[1]\sub{_{\text{\rm\tf#1}}} % \normalfont 
\define\si{\sub{i}}
\define\sf{\sub{f}}
\define\sn{\sub{net}}
\define[1]\average{{\langle#1\rangle_{\text{ave.}}}}
\define\kB{k\sub{B}}
\define\NA{N\sub{A}}
\define\sth{\sub{therm}}

% Math
\definemathfence[abs][bar][define=yes] % was: [command=yes]
\definemathfence[vabs][doublebar][define=yes]
\definemathfence[components][angle][define=yes]
\definemathfence[coordinates][parenthesis][define=yes]
%\define[1]\abs{\left|#1\right|} % better: https://tex.stackexchange.com/questions/475890/how-to-typeset-absolute-values-and-norms-in-context
%\define[1]\vabs{\left\Vert#1\right\Vert}
%\define[1]\components{\left\langle #1 \right\rangle}
%\define[1]\coordinates{\left( #1 \right)}
\define[1]\sci{\mathord{\times}10^{#1}}
\define\dotp{\boldsymbol{\cdot}}%{\bullet}%
\define[1]\fourvec{{\bi #1}}

% Particle and Nuclear physics
\define{\anti}{\overline}
\define[3]\nuc{\mathord{\rm #1}^^{#2}__{#3}}

% small size display fractions
\define[2]\textfrac{{\textstyle\frac{#1}{#2}}}
\define\half{{\textfrac{1}{2}}}
\define[1]\dd{\textfrac{d}{d#1}}
\define\ddt{\dd{t}}
\define[1]\pp{\textfrac{\partial}{\partial#1}}
\define\ppx{\pp{x}}
\define\ppy{\pp{y}}
\define\ppz{\pp{z}}
\define\ppr{\pp{r}}
\define\ppth{\pp{\theta}}
\define\ppv{\pp{v}}
\define\ppvx{\pp{v_x}}
\define\ppvy{\pp{v_y}}
\define\ppvz{\pp{v_z}}
\define\ppvth{\pp{v_{\theta}}}
\define\ppom{\pp{\omega}}

% Planet symbols
\define\Sun{\odot} % {\char "0263C}
\define\Mercury{\char "0263F}
\define\Venus{\char "02640}
\define\Earth{\oplus}  % {\char "02641}
\define\Moon{\char "0263E} % {\char "0263D}
\define\Mars{\char "02642}
\define\Jupiter{\char "02643}
\define\Saturn{\char "02644}
\define\Uranus{\char "02645}
\define\Neptune{\char "02646}
\define\Pluto{\char "02647}

\define[1]\substar{\sub{\txx #1}}
\define\sEarth{\substar{\Earth}}
\define\sSun{\substar{\Sun}}

\define\bigcirc{\char "025CB}


%\definefontsynonym[StarFont][name:STRFNSAN]% STRFNSER or STRFNSAN
%\definefont[StarFont][name:STRFNSAN]
%\definesymbol[Sun][\getnamedglyphdirect{StarFont}{s}]
%\definesymbol[Mercury][\getnamedglyphdirect{StarFont}{f}]
%\definesymbol[Venus][\getnamedglyphdirect{StarFont}{g}]
%\definesymbol[Earth][\getnamedglyphdirect{StarFont}{L}]
%\definesymbol[Moon][\getnamedglyphdirect{StarFont}{a}]
%\definesymbol[Mars][\getnamedglyphdirect{StarFont}{h}]
%\definesymbol[Ceres][\getnamedglyphdirect{StarFont}{Acircumflex}]
%\definesymbol[Jupiter][\getnamedglyphdirect{StarFont}{j}]
%\definesymbol[Saturn][\getnamedglyphdirect{StarFont}{S}]
%\definesymbol[Uranus][\getnamedglyphdirect{StarFont}{A}]
%\definesymbol[Neptune][\getnamedglyphdirect{StarFont}{G}]
%\definesymbol[Pluto][\getnamedglyphdirect{StarFont}{H}]
%\define\Sun{\symbol[Sun]}
%\define\Mercury{\symbol[Mercury]}
%\define\Venus{\symbol[Venus]}
%\define\Earth{\symbol[Earth]}
%\define\Moon{\symbol[Moon]}
%\define\Mars{\symbol[Mars]}
%\define\Ceres{\symbol[Ceres]}
%\define\Jupiter{\symbol[Jupiter]}
%\define\Saturn{\symbol[Saturn]}
%\define\Uranus{\symbol[Uranus]}
%\define\Neptune{\symbol[Neptune]}
%\define\Pluto{\symbol[Pluto]}

\stopenvironment