\startcomponent luagraph-concept

\environment luagraph-environment

\startchapter [title=Concept behind luagraph]

\placeinitial
The graphical representation of data is a powerful tool to convey and
to aid in the understand of quantities and measurements. This data may be
$n$|-|dimensional, where $n$ may be 1, 2, 3, â€¦ or even very high.
One|-|dimensional data might be a series of measures where the index is
not itself a measurable quantity, although a metric might be assigned to
this index. An example might be a time|-|series collection of
measurements sampled at a regular time interval.

\METAPOST\ is designed for the graphical representation in two
dimensions, i.e. points or a path rendered on a screen or printed on a
page. The \METAPOST\ language recognizes variables that hold \type {numeric}
quantities, \type {point}s that are pairs of numerics, abscissa and
ordinate, \type {color}s that are three (rgb) or four (cmyk) numerics,
as well as \type {transform}s that are a composed of six numerics, in
addition to \type {path}s that are a collection of a series of six
quantities (a node point as well as pre|-| and post|-|control points,
and \type {picture}s, which are collections of paths and other objects
having certain associated properties such as color and a \type {pen}
used to draw them. And whereas on can declare arrays and even
multi|-|dimensional arrays of these variables, they are in fact not real
arrays but a hashed list of named tokens. One can get rather clever in
naming and the indexing of these pseudo|-|arrays in some way that can
greatly accelerate the look|-|up of each variable element, yet this remains
rather inefficient in storing real data, especially large sets of data
as well as high|-|dimensional data.

\LUA, on the other hand, was designed around the very efficient handling
of \type {table}s. The \type {table} syntax is very flexible and
adaptable, and lends itself quite well to the storage of data as well as
of manipulations of this data. \LUA\ programmers can become very good at
performing feats of what we like to call \quotation {lua|-|magic}, that
are not only elegant but also blazingly fast, \emphasis {without} the
need to even resort to tricks (such as just|-|in|-|time compiling
(luajit) of the interpreted scripting language)! And each version of \LUA,
unlike most \emphasis {bloatware}, keeps getting faster and faster.

So we choose to read and to store as well as to manipulate data in \LUA,
mapping this as to two|-|dimensional paths or individual points to
\METAPOST\ (usually through some projection or non|-|linear
transformation, sometimes even what certain like to call \quotation
{highly non|-|trivial}). \METAPOST\ can then handle the drawing or
filling of these paths or points, as well as affine transformations of
them for which it was designed very efficiently. We use these
transformations typically for scaling, for orientation, and for
placement.

A concrete example could be the mapping of user data to another
coordinate system, say logarithmic, semi|-|logarithmic, or polar,
and then the scaled drawing of this data on some canvas. This canvas may
not be simply square or rectangular, but it also may be oblique or even
circular. The mapping of data to a two|-|dimensional drawing space can
be easily extended to whatever (for example, a square|-|root scale), and
that the drawing canvas can be any arbitrary shape are what makes the
\type {luagraph} module totally different from a simple re|-|write or
re|-|implementation of the original John Hobby \type {graph} macros. 

\stopchapter

\stopcomponent
